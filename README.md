Проект команды: Громов И., Климентов А., Ковалевская Д.

# Система автоматической проверки сочинений ОГЭ

Веб-приложение для автоматической проверки сочинений ОГЭ по русскому языку с использованием AI-модели GigaChat.

## Требования

- Python 3.12.8
- Git
- API ключ GigaChat

## Установка

1. Клонировать репозиторий:
```shell
git clone https://github.com/gromoveveryday/AI_Challenge_2025.git
cd AI_Challenge_2025
```

2. Создать виртуальное окружение:
```shell
python -m venv venv
```

3. Активировать виртуальное окружение:
```shell
venv\Scripts\activate
```

4. Установить зависимости:
```shell
pip install -r requirements.txt
```

5. Настроить API ключ:
```shell
set GIGACHAT_CREDENTIALS=your_api_key_here
```

6. Запуск приложения:
```shell
python app.py
```

7. После запуска откройте в браузере:
```shell
http://127.0.0.1:8000/
```

## Использование

# Через веб-интерфейс

1. Подготовьте CSV файл с сочинениями
2. Загрузите файл на главной странице
3. Получите результаты проверки

## Формат CSV файла

# Обязательные колонки:

* essay_text - текст сочинения

* task_text - текст задания

* essay_text - текст сочинения

# Пример CSV:
```shell
essay_text,task_text,essay_type
"Текст первого сочинения...","Объясните смысл финала текста",2
"Текст второго сочинения...","Что такое дружба?",3
```

# Альтернативные названия колонок:

* Для essay_text: "reference_text", "текст", "text", "сочинение"

* Для task_text: "task", "задание", "prompt"

## Типы сочинений и критерии оценки

# Тип 2 (13.2) - Литературно-тематическое сочинение

Критерии:

K1 (0-1 балл): Понимание смысла фрагмента текста

K2 (0-3 балла): Приведение двух примеров-иллюстраций из текста

K3 (0-2 балла): Логичность речи

K4 (0-1 балл): Композиционная стройность

# Тип 3 (13.3) - Морально-нравственное сочинение

K1 (0-1 балл): Наличие обоснованного ответа на вопрос

K2 (0-3 балла): Пример из текста и пример из личного опыта/литературы

K3 (0-2 балла): Логичность речи

K4 (0-1 балл): Композиционная стройность

# Требования к сочинениям

Минимальный объем: 70 слов

Поддерживаемые типы: только 2 и 3

Кодировка файлов: UTF-8 (поддерживаются cp1251, latin1)

## Программное использование (использование API)

# Оценка одного сочинения
```shell
from model import EssayEvaluator

# Инициализация оценщика
evaluator = EssayEvaluator()

# Оценка сочинения
result = evaluator.evaluate_single_essay(
    essay_text="Текст вашего сочинения...",
    essay_type=2,
    task_text="Текст задания..."
)

print(f"Общий балл: {result['H1'] + result['H2'] + result['H3'] + result['H4']}")
print(f"K1: {result['H1']} - {result['H1_explanation']}")
```
# Пакетная обработка
```shell
from model import EssayEvaluator

evaluator = EssayEvaluator()

essays_data = [
    {
        'essay_text': 'Сочинение 1...',
        'essay_type': 2,
        'task_text': 'Задание 1...',
        'essay_id': 1
    },
    {
        'essay_text': 'Сочинение 2...', 
        'essay_type': 3,
        'task_text': 'Задание 2...',
        'essay_id': 2
    }
]

results = evaluator.evaluate_batch_essays(essays_data)
```

# Структура результатов

Каждое сочинение возвращает словарь с полями:
```shell
{
    "essay_id": 1,
    "H1": 1,  # Балл за критерий K1
    "H1_explanation": "Ученик верно объяснил смысл фрагмента",
    "H2": 2,  # Балл за критерий K2
    "H2_explanation": "Приведено два примера, но один слабо иллюстрирует тезис",
    "H3": 2,  # Балл за критерий K3
    "H3_explanation": "Логичность речи не нарушена",
    "H4": 1,  # Балл за критерий K4
    "H4_explanation": "Композиция трехчастная, завершенная",
    "total_score": 6  # Суммарный балл
}
```





